#:kivy 2.3.0
#:import utils kivy.utils
#:import dp kivy.metrics.dp

<Configuracao>:
    FloatLayout:
        # Adicionando uma imagem de fundo usando canvas
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                source: 'res/gradient.png'  # Nome do arquivo da imagem
                pos: self.pos
                size: self.size

    BoxLayout:
        orientation: 'vertical'
        size_hint: (1, 1)

        # Header
        FloatLayout:
            size_hint: (1, None)
            height: dp(80)

            # Botão de voltar no canto superior esquerdo
            MDIconButton:
                icon: "arrow-left"
                size_hint: (None, None)
                size: dp(36), dp(36)
                pos_hint: {"left": 1, "top": 1}
                theme_text_color: "Custom"
                text_color: (1, 1, 1, 1)
                on_release:
                    app.gerenciador.current = 'overview'

            Label:
                text: 'Configurar meu Overview'
                font_size: 30
                bold: True
                color: utils.get_color_from_hex('#FFFFFF')
                size_hint: (1, None)
                pos_hint: {"center_x": 0.5, "top": 1}
                halign: "center"
                valign: "middle"

        # Card branco abaixo ocupando o espaço restante
        MDCard:
            size_hint: (1, 1)
            elevation: 4
            radius: [60, 60, 0, 0]
            md_bg_color: utils.get_color_from_hex('#FFFFFF')
            pos_hint: {'center_x': 0.5}  # Centraliza horizontalmente
            padding: [30, 30, 30, 0]

            ScrollView:
                BoxLayout:
                    orientation: 'vertical'
                    padding: dp(10)
                    spacing: dp(10)
                    size_hint_y: None
                    height: self.minimum_height

                    # Caixa para Boia 04
                    BoiaConfig:
                        codigo_boia: "04"

                    # Caixa para Boia 08
                    BoiaConfig:
                        codigo_boia: "08"

                    # Caixa para Boia 10
                    BoiaConfig:
                        codigo_boia: "10"

                    # Caixa para Marégrafo
                    MaregrafoConfig:
                        codigo_maregrafo: ""

                    # Caixa para Estação Meteorológica
                    EstacaoMeteorologicaConfig:
                        codigo_estacao: ""

                    # Ondógrafos
                    OndografoConfig:
                        nome: "Píer II"

                    OndografoConfig:
                        nome: "TGL"

                    OndografoConfig:
                        nome: "TPD"

                    OndografoConfig:
                        nome: "TPM"

<BoiaConfig@BoxLayout>:
    codigo_boia: ""
    orientation: 'vertical'
    size_hint_y: None
    height: self.minimum_height
    padding: dp(15)
    spacing: dp(12)
    canvas.before:
        Color:
            rgba: (0, 0, 0, 0.2)  # Cor da sombra (preto com 20% de opacidade)
        RoundedRectangle:
            size: [self.width + dp(6), self.height + dp(6)]  # Faz a sombra ligeiramente maior
            pos: [self.x - dp(3), self.y - dp(3)]  # Posiciona a sombra um pouco atrás
            radius: [dp(18)]  # Bordas arredondadas

        Color:
            rgba: (1, 1, 1, 1)  # Fundo branco
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [dp(15)]


    Label:
        text: "Boia " + root.codigo_boia
        font_size: "22sp"
        color: (0.02, 0.29, 0.61, 1)  # Azul de fundo
        bold: True
        halign: 'center'
        valign: 'middle'
        size_hint_y: None
        height: dp(40)

    GridLayout:
        cols: 2
        spacing: dp(10)
        size_hint_y: None
        height: self.minimum_height

        Label:
            text: "Corrente Fundo"
            font_size: "18sp"
            color: (0.02, 0.29, 0.61, 1)  # Azul de fundo
            halign: 'left'
            valign: 'middle'
            size_hint_y: None
            height: dp(40)

        StyledCheckbox:
            id: checkbox_fundo
            active_color: (0.2, 0.6, 1, 1)  # Azul vibrante quando ativo
            inactive_color: (1, 1, 1, 1)  # Branco quando inativo
            on_state: app.toggle_parameter('Boia ' + root.codigo_boia, 'Corrente Fundo', self.state)
            color_inactive: "blue"

        Label:
            text: "Corrente Meio"
            font_size: "18sp"
            color: (0.02, 0.29, 0.61, 1)
            halign: 'left'
            valign: 'middle'
            size_hint_y: None
            height: dp(40)

        StyledCheckbox:
            on_state: app.toggle_parameter('Boia ' + root.codigo_boia, 'Corrente Meio', self.state)
            color_inactive: "blue"

        Label:
            text: "Corrente Superfície"
            font_size: "18sp"
            color: (0.02, 0.29, 0.61, 1)
            halign: 'left'
            valign: 'middle'
            size_hint_y: None
            height: dp(40)

        StyledCheckbox:
            on_state: app.toggle_parameter('Boia ' + root.codigo_boia, 'Corrente Superfície', self.state)
            color_inactive: "blue"

        Label:
            text: "Ondas"
            font_size: "18sp"
            color: (0.02, 0.29, 0.61, 1)
            halign: 'left'
            valign: 'middle'
            size_hint_y: None
            height: dp(40)

        StyledCheckbox:
            on_state: app.toggle_parameter('Boia ' + root.codigo_boia, 'Ondas', self.state)
            color_inactive: "blue"

        Label:
            text: "Sea"
            font_size: "18sp"
            color: (0.02, 0.29, 0.61, 1)
            halign: 'left'
            valign: 'middle'
            size_hint_y: None
            height: dp(40)

        StyledCheckbox:
            on_state: app.toggle_parameter('Boia ' + root.codigo_boia, 'Sea', self.state)
            color_inactive: "blue"

        Label:
            text: "Swell"
            font_size: "18sp"
            color: (0.02, 0.29, 0.61, 1)
            halign: 'left'
            valign: 'middle'
            size_hint_y: None
            height: dp(40)

        StyledCheckbox:
            on_state: app.toggle_parameter('Boia ' + root.codigo_boia, 'Swell', self.state)
            color_inactive: "blue"





<MaregrafoConfig@BoxLayout>:
    codigo_maregrafo: ""
    orientation: 'vertical'
    size_hint_y: None
    height: self.minimum_height
    padding: dp(15)
    spacing: dp(12)
    canvas.before:
        Color:
            rgba: (0, 0, 0, 0.2)  # Cor da sombra (preto com 20% de opacidade)
        RoundedRectangle:
            size: [self.width + dp(6), self.height + dp(6)]  # Faz a sombra ligeiramente maior
            pos: [self.x - dp(3), self.y - dp(3)]  # Posiciona a sombra um pouco atrás
            radius: [dp(18)]  # Bordas arredondadas

        Color:
            rgba: (1, 1, 1, 1)  # Fundo branco
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [dp(15)]

    Label:
        text: "Marégrafo "
        font_size: "22sp"
        color: (0.02, 0.29, 0.61, 1)  # Azul de fundo
        bold: True
        halign: 'center'
        valign: 'middle'
        size_hint_y: None
        height: dp(40)

    GridLayout:
        cols: 2
        spacing: dp(10)
        size_hint_y: None
        height: self.minimum_height

        Label:
            text: "Nível do Mar"
            font_size: "18sp"
            color: (0.02, 0.29, 0.61, 1)  # Azul de fundo
            halign: 'left'
            valign: 'middle'
            size_hint_y: None
            height: dp(40)

        StyledCheckbox:
            on_state: app.toggle_parameter('Marégrafo ' + root.codigo_maregrafo, 'Nível do Mar', self.state)
            color_inactive: "blue"


<EstacaoMeteorologicaConfig@BoxLayout>:
    codigo_estacao: ""
    orientation: 'vertical'
    size_hint_y: None
    height: self.minimum_height
    padding: dp(15)
    spacing: dp(12)
    canvas.before:
        Color:
            rgba: (0, 0, 0, 0.2)  # Cor da sombra (preto com 20% de opacidade)
        RoundedRectangle:
            size: [self.width + dp(6), self.height + dp(6)]  # Faz a sombra ligeiramente maior
            pos: [self.x - dp(3), self.y - dp(3)]  # Posiciona a sombra um pouco atrás
            radius: [dp(18)]  # Bordas arredondadas

        Color:
            rgba: (1, 1, 1, 1)  # Fundo branco
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [dp(15)]

    Label:
        text: "Estação Meteorológica "
        font_size: "22sp"
        color: (0.02, 0.29, 0.61, 1)  # Azul escuro, igual ao das outras seções
        bold: True
        halign: 'center'
        valign: 'middle'
        size_hint_y: None
        height: dp(40)

    GridLayout:
        cols: 2
        spacing: dp(10)
        size_hint_y: None
        height: self.minimum_height

        Label:
            text: "Ventos"
            font_size: "18sp"
            color: (0.02, 0.29, 0.61, 1)  # Azul escuro, igual às outras seções
            halign: 'left'
            valign: 'middle'
            size_hint_y: None
            height: dp(40)

        StyledCheckbox:
            on_state: app.toggle_parameter('Estação Meteorológica ' + root.codigo_estacao, 'Ventos', self.state)
            color_inactive: "blue"


                
<OndografoConfig@BoxLayout>:
    nome: ""
    orientation: 'vertical'
    size_hint_y: None
    height: self.minimum_height
    padding: dp(15)
    spacing: dp(12)
    canvas.before:
        Color:
            rgba: (0, 0, 0, 0.2)  # Cor da sombra (preto com 20% de opacidade)
        RoundedRectangle:
            size: [self.width + dp(6), self.height + dp(6)]  # Faz a sombra ligeiramente maior
            pos: [self.x - dp(3), self.y - dp(3)]  # Posiciona a sombra um pouco atrás
            radius: [dp(18)]  # Bordas arredondadas

        Color:
            rgba: (1, 1, 1, 1)  # Fundo branco
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [dp(15)]

    Label:
        text: "Ondógrafo " + root.nome
        font_size: "22sp"
        color: (0.02, 0.29, 0.61, 1)  # Azul escuro, igual às outras seções
        bold: True
        halign: 'center'
        valign: 'middle'
        size_hint_y: None
        height: dp(40)

    GridLayout:
        cols: 2
        spacing: dp(10)
        size_hint_y: None
        height: self.minimum_height

        Label:
            text: "Altura Significativa de Onda"
            font_size: "18sp"
            color: (0.02, 0.29, 0.61, 1)  # Azul escuro, igual às outras seções
            halign: 'left'
            valign: 'middle'
            size_hint_y: None
            height: dp(40)

        StyledCheckbox:
            on_state: app.toggle_parameter('Ondógrafo ' + root.nome, 'Altura Significativa de Onda', self.state)
            color_inactive: "blue"

        Label:
            text: "Altura Máxima"
            font_size: "18sp"
            color: (0.02, 0.29, 0.61, 1)  # Azul escuro, igual às outras seções
            halign: 'left'
            valign: 'middle'
            size_hint_y: None
            height: dp(40)

        StyledCheckbox:
            on_state: app.toggle_parameter('Ondógrafo ' + root.nome, 'Altura Máxima', self.state)
            color_inactive: "blue"

        Label:
            text: "Período"
            font_size: "18sp"
            color: (0.02, 0.29, 0.61, 1)  # Azul escuro, igual às outras seções
            halign: 'left'
            valign: 'middle'
            size_hint_y: None
            height: dp(40)

        StyledCheckbox:
            on_state: app.toggle_parameter('Ondógrafo ' + root.nome, 'Período', self.state)
            color_inactive: "blue"